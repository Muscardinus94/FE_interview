# React - 리액트 동작 요소와 가상돔(React Operation && Optimization Techniques)

## 설명

### React 동작요소

- `React`는 사용자 인터페이스를 만들기 위해서 `Components`라는 개념요소를 사용합니다. 그리고 이렇게 구성된 사용자 인터페이스를 효과적으로 업데이트 하게됩니다.
- `ReactDOM`도 있습니다. 이 `ReactDOM`은 결국에는 `React` 자체와는 다르게 웹에 대한 인터페이스 입니다. 무슨말 이냐면 `React.js` 우리가 부르는 `React`는 **웹에 대해서 관여하지 않습니다.** 브라우저에 대해서 아무것도 모릅니다.
  ![](https://images.velog.io/images/doodream/post/c01b5661-0d42-4be7-aed2-107b05626eab/image.png)

### ReactDOM

- `React`는 `Components`를 사용하지만 해당구성요소 안에 HTML tag가 포함되어있는지 아닌지 아니면 완전히 허상의 Element tag가 있는지 아닌지는 중요하지 않습니다. 결국에 이를 표현하게 브라우저에 전달해주는 것은 `ReactDOM`의 일입니다. 궁극적으로 실제 HTML요소를 화면에 불러오게 해줍니다.
- React는 컴포넌트를 관리하는 라이브러리일 뿐이고 (이전상태와 비교했을때 어떻게 달라졌는지) 이렇게 변경된 모든 사항에 대해서 ReactDOM에 전달해줍니다. 이렇게 ReactDOM은 실제 화면이 어떻게 보여질지 에 대한 것에 그 기능이 있습니다.
- 보통 리액트에서 컴포넌트의 상태가 변경되면 재실행되어 브라우저에서 리렌더링 된다고 알고 있지만 모두 리렌더링 되는 것은 아닙니다. 드물게 필요할 때만 변경되며 이는 브라우저 성능에 중요합니다.
- ReactDOM 에서는 이를 가상으로 비교합니다. 다시말하면 `VirualDOM`에서 이를 비교합니다. 가상의 메모리 안에서 (이전상태와 마지막 스냅샷상태의)비교가 이루어지기 때문에 브라우저에 렌더링되는 실제 DOM에 접근해서 비교하는 기존의 방식과는 계산 차이가 많이 나게 됩니다. 실제로 반영될 화면이 재구성이 되어야 할지 안되어야 할지 `VirualDOM`을 통해서 리렌더링 여부를 결정합니다.

## 요약

- 리액트와 리액트 DOM은 다릅니다. 리액트의 주요기능은 컴포넌트의 상태관리 입니다.
- ReactDOM은 리액트가 관리한 값들을 받아 실제 DOM으로 렌더링하기 전에 VirtualDOM에서 비교를 진행한 후 실제로 변경될 부분만 브라우저로 넘깁니다.
- 리액트 내부에서 상태변경시 컴포넌트 전체가 재실행 되는데 앱이 커지게되면 재실행하는 비용이 만만하지 않습니다. 이를 위한 최적화 기법을 추후 소개합니다.

## 참고

-[Udemy 강의](http://https://www.udemy.com/course/react-the-complete-guide-incl-redux/learn/lecture/25599684#content)
